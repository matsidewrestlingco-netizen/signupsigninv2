<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SignUP SignIN - Check-In QR</title>

  <link rel="stylesheet" href="../css/base.css" />
  <link rel="stylesheet" href="../css/layout.css" />
  <link rel="stylesheet" href="../css/components.css" />
</head>

<body>
  <div id="navbar"></div>

<main class="container">

  <!-- PAGE HEADER (matches other admin pages) -->
  <section class="page-header">
    <a href="/admin/index.html" class="btn btn-light">
      ← Back to Admin
    </a>

    <h1 id="eventTitle">Loading…</h1>

    <p id="eventDate" class="helper-text"></p>
  </section>

  <!-- PRIMARY CARD (same feel as edit-event / reports) -->
  <section class="card" style="max-width:650px;">
    <h2>Volunteer Check-In</h2>

    <p class="helper-text">
      Display this QR code for volunteers to check in on arrival.
    </p>

    <div
      id="qrContainer"
      style="margin:24px auto;text-align:center;"
    ></div>

    <label class="helper-text">Check-In Link</label>

    <input
      id="checkinUrl"
      type="text"
      readonly
      style="
        margin-top:6px;
        margin-bottom:16px;
        width:100%;
        padding:10px;
        border-radius:6px;
        border:1px solid var(--border);
        font-size:13px;
      "
    />

    <div class="button-row">
      <button id="copyBtn" class="btn btn-secondary">
        Copy Link
      </button>

      <a
        id="openBtn"
        class="btn btn-primary"
        target="_blank"
      >
        Open Check-In Page
      </a>
    </div>
  </section>

</main>

  <!-- Auth guard -->
  <script type="module">
    import { requireAuth } from "../js/admin/utils/auth.js";
    await requireAuth();
  </script>

  <!-- QR + page logic -->
  <script type="module" src="../js/admin/checkin-qr.js"></script>
</body>
</html>
